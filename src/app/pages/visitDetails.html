<div role="main" class="main">
	<section
		class="parallax section section-text-light section-parallax section-center mt-0 mb-5"
		data-plugin-parallax data-plugin-options="{'speed': 1.5}"
		data-image-src="assets/images/slides/bg-top.jpg">
	</section>

		<div class="container" style="padding-left: 10px; max-width: 100%;">
			<div class="ui-grid-row">
				<div class="ui-g-2 ui-sm-4">
					<app-admin-menu></app-admin-menu>
				</div>
				<div class="ui-g-10 ui-sm-8" style="padding: 15px;">
					<div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="visit">
						<div class="ui-grid-row">
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@patientMatricule" for="patientMatricule">Patient ID<font color="red">*</font></label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										<input type="text" pInputText class="form-control" id="patientMatricule" (change)="lookUpPatient()"
										[(ngModel)]="patient.matricule" name="patientMatricule" #patientMatricule="ngModel">
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>
							</div>
						</div>
						<hr>
						<div class="ui-grid-row">
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@visitNumber" for="visitNumber">Visit No.</label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										{{visit.visitNumber}}
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>
							</div>
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@visitDatetime" for="visitDatetime">Visit Date Time<font color="red">*</font></label> 
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										<p-calendar [(ngModel)]="visit.visitDatetime" [showTime]="true"></p-calendar>
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>
							</div>
						</div>
						<div class="ui-grid-row">
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@patientName" for="patientName">Patient Name</label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										{{patient.name}}
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>
							</div>
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@patientBirthDate" for="patientBirthDate">Birth Date: </label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										{{patient.user.birthDate | date:'dd/MM/yyyy'}}
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>				
							</div>
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@patientSex" for="patientSex">Gender</label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										{{patient.user.sex}}
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>
							</div>
						</div>
						<div class="ui-grid-row">
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@patientMaritalStatus" for="patientMaritalStatus">Marital Status</label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										{{patient.maritalStatusName}}
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>
							</div>
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@occupationName" for="occupationName">Occupation: </label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										{{patient.occupationName}}
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>				
							</div>
							<div class="ui-grid-col-4 ui-sm-12">
								<div class="ui-grid-row">
									<div class="ui-grid-col-3 ui-sm-12">
										<label i18n="@@nationality" for="nationality">Nationality</label>
									</div>
									<div class="ui-grid-col-8 ui-sm-12">
										{{patient.nationalityName}}
									</div>
									<div class="ui-grid-col-1 ui-sm-12">
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="ui-grid-row">
						<div class="ui-grid-col-4 ui-sm-12">
							<div class="ui-grid-row">
								<div class="ui-grid-col-3 ui-sm-12">
									<label i18n="@@payerType" for="payerType">Payer Type</label>
								</div>
								<div class="ui-grid-col-8 ui-sm-12">
									{{patient.payerTypeName}}
								</div>
								<div class="ui-grid-col-1 ui-sm-12">
								</div>
							</div>
						</div>
						<div class="ui-grid-col-4 ui-sm-12">
							<div class="ui-grid-row">
								<div class="ui-grid-col-3 ui-sm-12">
									<label i18n="@@referral" for="referral">Referral: </label>
								</div>
								<div class="ui-grid-col-8 ui-sm-12">
									{{patient.referral}}
								</div>
								<div class="ui-grid-col-1 ui-sm-12">
								</div>
							</div>				
						</div>
						<div class="ui-grid-col-4 ui-sm-12">
							<div class="ui-grid-row">
								<div class="ui-grid-col-3 ui-sm-12">
									<label i18n="@@referralPhone" for="referralPhone">Referral Phone</label>
								</div>
								<div class="ui-grid-col-8 ui-sm-12">
	 								{{patient.referralPhone}}
								</div>
								<div class="ui-grid-col-1 ui-sm-12">
								</div>
							</div>
						</div>
					</div>
					
					<br/>
					<p-tabView (onChange)="onTabChange($event)"> 
					 	<p-tabPanel header="VITAL/HISTORY">
					 		<app-vitalSign-details [vitalSign]="visit.vitalSign"></app-vitalSign-details>
					 		
					 		ALLERGIES
					 		<div class="ui-grid-row" *ngFor="let allergyGroup of allergyGroups">
								<div class="ui-grid-col-1 ui-sm-12" >
					 				{{allergyGroup.name}}:
					 			</div>
					 			<div class="ui-grid-col-11 ui-sm-12" >
					 				<p-checkbox id="status" 
					 					(checked)="visit.allergies && -1 !== visit.allergies.indexOf(allergy) ? 'checked' : '' "
					 				 	label="{{allergy.name}}" (handleChange)="updateAllergy($event)"
					 				 	*ngFor="let allergy of allergyGroup.childs; let i = index"></p-checkbox>
					 			</div>
					 		</div>
					 		
					 		
						</p-tabPanel>
						<p-tabPanel header="SYMPTOMS">
						</p-tabPanel>
						<p-tabPanel header="INVESTIGATIONS">
						</p-tabPanel>
						<p-tabPanel header="MEDICATIONS">
						</p-tabPanel>
						<p-tabPanel header="ADVICE">
						</p-tabPanel>
					</p-tabView>
						
					<br/>
					<br />
					<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
						<button type="button" pButton icon="fa-close" (click)="delete()"
							label="Supprimer"></button>
						<button type="button" pButton icon="fa-check" (click)="save()"
							label="Sauvegarder"></button>
					</div>
			</div>
		</div>
	</div>
</div>
		
	
	